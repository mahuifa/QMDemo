# Qtçº¿ç¨‹å’Œå¹¶å‘ç¼–ç¨‹ç¤ºä¾‹

[toc]

---

## 1ã€è¯´æ˜

|      ç±»å      | åŠŸèƒ½                                                         |
| :------------: | ------------------------------------------------------------ |
|  UseQThread1   | Qté€šè¿‡ã€å®ä¾‹åŒ–ã€‘QThreadï¼Œä½¿ç”¨moveToThreadå°†QObjectå­ç±»æ§½å‡½æ•°åœ¨å­çº¿ç¨‹ä¸­æ‰§è¡Œ |
|  UseQThread2   | Qté€šè¿‡å­ç±»åŒ–ï¼Œç»§æ‰¿QThreadï¼Œé‡å†™runå®ç°å­çº¿ç¨‹                 |
| UseQThreadPool | Qtä½¿ç”¨çº¿ç¨‹æ± QThreadPoolç¤ºä¾‹                                  |
|  RunFunction   | QtConcurent::runä½¿ç”¨ç¤ºä¾‹ï¼Œåœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œä¸€ä¸ªå‡½æ•°ã€‚       |
|      Map       | QtConcurrent::mapä½¿ç”¨ç¤ºä¾‹ï¼Œå¯ä»¥åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹é«˜æ•ˆåœ°å¤„ç†å¤§é‡æ•°æ®ï¼Œ<br>å¹¶ä¸”å¯ä»¥è¿”å›ä¸€ä¸ªQFutureå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥è·Ÿè¸ªæ•°æ®å¤„ç†çš„è¿›åº¦ã€‚ |
|     Mapped     | QtConcurrent::mappedä½¿ç”¨ç¤ºä¾‹ï¼Œä¸ mapï¼ˆï¼‰ ç±»ä¼¼ï¼Œ<br/>ä¸åŒä¹‹å¤„åœ¨äºå®ƒè¿”å›äº†ä¸€ä¸ªåŒ…å«è¿”å›å€¼çš„æ–°å®¹å™¨ã€‚ |
| MappedReduced  | QtConcurrent::mappedReducedä½¿ç”¨ç¤ºä¾‹ï¼Œä¸mapped()ç±»å‹ï¼Œ<br/>ç›¸å½“äºå°†mapped()çš„ç»“æœæ”¾å…¥åˆ°ä¸€ä¸ªå•çº¿ç¨‹å‡½æ•°ä¸­è¿›è¡Œè®¡ç®— |
|    IOThread    | åœ¨QTå­çº¿ç¨‹ä¸­æ“ä½œIOå¯¹è±¡ï¼ŒåŒ…æ‹¬QAbstractSocketã€QFileã€QSerialPortç­‰ |

 


## 2ã€ç›¸å…³åšå®¢

|                           ç›¸å…³åšå®¢                           |
| :----------------------------------------------------------: |
| ğŸ‘‰[CSDN]()ğŸ‘ˆ |




## 3ã€å®ç°æ•ˆæœ

### 1.1 UseQThread1

> 1. Qté€šè¿‡å®ä¾‹åŒ–QThreadï¼Œä½¿ç”¨moveToThreadå°†QObjectå­ç±»æ§½å‡½æ•°åœ¨å­çº¿ç¨‹ä¸­æ‰§è¡Œï¼›
> 1. åˆ†åˆ«å®ç°äº†å°†çº¿ç¨‹å°è£…åœ¨ç±»å†…éƒ¨çš„å’Œåœ¨ç±»å¤–éƒ¨æŒ‡å®šçº¿ç¨‹ä¸¤ç§æ–¹å¼ï¼›
> 1. æ¼”ç¤ºäº†æ­£ç¡®åˆ›å»ºçº¿ç¨‹å’Œé€€å‡ºçº¿ç¨‹çš„æ–¹å¼   ï¼Œé¿å…å‡ºç°åƒµå°¸çº¿ç¨‹æˆ–è€…å¡æ­»æƒ…å†µã€‚                

![UseQThread1-tuya](ConcurrentExamples.assets/UseQThread1-tuya.gif)



### 2ã€UseQThread2

> 1. Qté€šè¿‡å­ç±»åŒ–ï¼Œç»§æ‰¿QThreadï¼Œé‡å†™runå®ç°å­çº¿ç¨‹ï¼›
> 2. æ¼”ç¤ºäº†çº¿ç¨‹çš„ç®€å•ä½¿ç”¨å’Œæ­£ç¡®é€€å‡ºçš„æ–¹å¼ã€‚

![UseQThread2-tuya](ConcurrentExamples.assets/UseQThread2-tuya.gif)



### 1.3 UseQThreadPool

> 1. QTä½¿ç”¨QThreadPoolã€QRunnableçš„ç®€å•ç¤ºä¾‹ç¨‹åºï¼›
> 2. æ¼”ç¤ºäº†ä½¿ç”¨å…¨å±€çº¿ç¨‹æ± å’Œå±€éƒ¨çº¿ç¨‹æ± ï¼›               
> 3. æ¼”ç¤ºäº†åœ¨æ·»åŠ ä»»åŠ¡åä¿®æ”¹æœ€å¤§çº¿ç¨‹ä¸ªæ•°å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜å’Œè§£å†³åŠæ³•ã€‚

* æ­£å¸¸ä½¿ç”¨çº¿ç¨‹æ± 

  ![image-20230218120351892](ConcurrentExamples.assets/image-20230218120351892.png)

* ä¿®æ”¹æœ€å¤§çº¿ç¨‹ä¸ªæ•°å¯¼è‡´å†…å­˜æ³„æ¼

  ![image-20230218120716966](ConcurrentExamples.assets/image-20230218120716966.png)



### 1.5 RunFunction

> QtConcurent::runä½¿ç”¨ç¤ºä¾‹ï¼Œåœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œä¸€ä¸ªå‡½æ•°ã€‚

![image-20230224151913976](ConcurrentExamples.assets/image-20230224151913976.png)



### 1.6 Map

> 1. ä½¿ç”¨QtConcurrent::map()åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹é«˜æ•ˆåœ°å¤„ç†å¤§é‡æ•°æ®;
> 2. ä½¿ç”¨QtConcurrent::map()åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ‰¹é‡æ‰§è¡Œæˆå‘˜å‡½æ•°ã€‚

![image-20230226215928039](ConcurrentExamples.assets/image-20230226215928039.png)



### 1.7 Mapped

> QtConcurrent::mappedä½¿ç”¨ç¤ºä¾‹ï¼Œä¸ mapï¼ˆï¼‰ ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒè¿”å›äº†ä¸€ä¸ªåŒ…å«è¿”å›å€¼çš„æ–°å®¹å™¨ã€‚
>
> åœ¨mappedä¸­å¼‚æ­¥è®¡ç®—å¤šä¸ª0~nçš„æ•°çš„å’Œï¼Œå¹¶é€šè¿‡è¿”å›å€¼ä¼ é€’å‡ºæ¥ã€‚

![image-20230309210116047](ConcurrentExamples.assets/image-20230309210116047.png)



### 1.8 MappedReduced

> QtConcurrent::mappedReducedä½¿ç”¨ç¤ºä¾‹ï¼›
>
> å°†æ•°ç»„é€šè¿‡å‚æ•°1ä¼ å…¥ï¼Œåœ¨å‚æ•°2çš„å‡½æ•°ä¸­å¤šçº¿ç¨‹å¹¶è¡Œè®¡ç®—ï¼Œç„¶åå°†å‚æ•°2çš„å‡½æ•°çš„è¿”å›å€¼ä¼ å…¥å‚æ•°3çš„å‡½æ•°ä¸­ï¼Œåœ¨å‚æ•°3çš„å‡½æ•°ä¸­å•çº¿ç¨‹è®¡ç®—ã€‚

![image-20230312113522409](ConcurrentExamples.assets/image-20230312113522409.png)



### 1.9 IOThread

> 1. åœ¨Qtæ¡†æ¶ä¸­ï¼ŒQIODeviceåŠå…¶å­ç±»ï¼ˆå¦‚QSerialPortã€QTcpSocketç­‰ï¼‰è®¾è®¡ç”¨äºå•çº¿ç¨‹å†…çš„æ“ä½œã€‚
> 2. å¦‚æœå°è¯•åœ¨åˆ›å»ºQIODeviceå¯¹è±¡çš„çº¿ç¨‹ä¹‹å¤–çš„å¦ä¸€ä¸ªçº¿ç¨‹ä¸­ä½¿ç”¨å®ƒï¼Œå°†ä¼šå¼•å‘é”™è¯¯æˆ–ä¸å¯é¢„æœŸçš„è¡Œä¸ºã€‚     
> 3. è¿™æ˜¯å› ä¸ºQIODeviceä¾èµ–äºQtçš„ä¿¡å·å’Œæ§½æœºåˆ¶è¿›è¡Œäº‹ä»¶å¤„ç†å’Œæ•°æ®é€šä¿¡ï¼Œè€Œè¿™äº›æœºåˆ¶æœ¬èº«ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚  
> 4. ä½†æœ‰æ—¶å€™å®é™…åœºæ™¯ä¸­æ•°æ®é‡å¾ˆå¤§ï¼Œå°±éœ€è¦åœ¨å­çº¿ç¨‹ä¸­è¿›è¡Œé€šä¿¡ï¼Œè¿™é‡Œå°±æ¼”ç¤ºå¦‚ä½•åœ¨å­çº¿ç¨‹ä¸­ä½¿ç”¨QIODevice     

![ioThread-tuya](./ConcurrentExamples.assets/ioThread-tuya.gif)
